# Terminal settings - works with Ghostty's xterm-256color
set -g default-terminal "tmux-256color"
set-option -sa terminal-features ',xterm-256color:RGB'
set -g mouse on

# Vi mode
set-window-option -g mode-keys vi
bind-key / copy-mode
bind -T copy-mode-vi 'v' send -X begin-selection
# Linux clipboard integration
bind -T copy-mode-vi 'y' send -X copy-pipe-and-cancel "xclip -selection clipboard"

# Fix ESC delay in vim
set -sg escape-time 0

# Reload config
bind r source-file ~/.tmux.conf \; display "Config reloaded!"

# Change prefix from C-b to C-k
unbind C-b
set-option -g prefix C-k
bind-key C-k send-prefix

# Window and pane creation with current path
bind-key c new-window -c '#{pane_current_path}'
bind-key v split-window -h -c '#{pane_current_path}'
bind-key s split-window -c '#{pane_current_path}'

# Vim-style pane navigation
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Start windows and panes at 1
set -g base-index 1
setw -g pane-base-index 1

# Update status bar every second
set -g status-interval 1

# Enable focus events
set -g focus-events on